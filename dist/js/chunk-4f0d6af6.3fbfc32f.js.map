{"version":3,"sources":["webpack:///./src/components/shared/Badge.vue?8393","webpack:///./src/views/category/categoryMain.vue","webpack:///./src/views/category/categoryMain.vue?cb96","webpack:///./src/components/shared/Badge.vue","webpack:///./src/components/shared/Badge.vue?eeb2"],"names":["class","path","info","name","waiting","components","Badge","Loader","data","unwatch","undefined","computed","drop_bar","watch","this","setPath","methods","getCategory","sluggable","slug","$route","params","filter","parent","children","sub","child","length","forEach","e","push","ch","created","$watch","val","closeCategoryOpened","immediate","beforeUnmount","__exports__","render","width","height","viewBox","fill","xmlns","d","stroke","stroke-width","stroke-linecap","stroke-linejoin","pathPart","key","to","props","Array"],"mappings":"kHAAA,W,wECCWA,MAAM,kB,GAETA,MAAM,Q,8LAFZ,gCAMU,UANV,EAMU,CALR,yBAAiC,GAAzBC,KAAM,EAAAC,KAAKD,M,iBACnB,gCAAqC,KAArC,EAAqC,6BAAjB,EAAAC,KAAKC,MAAI,GAC7B,yBAES,GAFDC,QAAQ,iBAAe,C,8BAC7B,iBAA2B,CAA3B,yBAA2B,O,4FASlB,GACbC,WAAY,CAACC,QAAA,KAAOC,OAAA,QACpBC,KAFa,WAGX,MAAO,CACLC,aAASC,EACTR,KAAM,CACJD,KAAM,GACNE,KAAM,MAIZQ,SAAU,kBACL,eAAW,CACZC,SAAU,cAGdC,MAAO,CACLD,SADK,WAEHE,KAAKC,YAGTC,QAAS,gDACJ,eAAW,CACZC,YAAa,gCAEZ,eAAa,CACd,yBALG,IAOLF,QAPO,SAOCG,GACNJ,KAAKZ,KAAKD,KAAO,CACf,CACEE,KAAM,UACNF,KAAM,MAGV,IAAIkB,EAAOD,GAAaJ,KAAKM,OAAOC,OAAOF,KACvCjB,EAAOY,KAAKZ,KAChBY,KAAKF,SAASU,QAAO,SAAAC,GAAK,OAAKA,EAAOJ,OAASA,GAEuC,IAD/EI,EAAOC,SAASF,QAAO,SAAAG,GAAE,OAAKA,EAAIN,OAASA,GACsB,IAA7DM,EAAID,SAASF,QAAO,SAAAI,GAAI,OAAKA,EAAMP,OAASA,KAAMQ,UAAcA,UAAcC,SAAQ,SAAAC,GAC/F3B,EAAKC,KAAO0B,EAAE1B,KAEdD,EAAKD,KAAK6B,KAAK,CACb3B,KAAM0B,EAAE1B,KACRF,KAAM,oBAAsB4B,EAAEV,OAGhCU,EAAEL,SAASF,QAAO,SAAAS,GAAC,OAAKA,EAAGZ,OAASA,GAAoE,IAA5DY,EAAGP,SAASF,QAAO,SAAAI,GAAI,OAAKA,EAAMP,OAASA,KAAMQ,UAAcC,SAAQ,SAAAH,GACjHvB,EAAKD,KAAK6B,KAAK,CACb3B,KAAMsB,EAAItB,KACVF,KAAM,iBAAmBwB,EAAIN,OAE/BjB,EAAKC,KAAOsB,EAAItB,KAEhBsB,EAAID,SAASF,QAAO,SAAAI,GAAI,OAAKA,EAAMP,OAASA,KAAMS,SAAQ,SAAAF,GACxDxB,EAAKD,KAAK6B,KAAK,CACb3B,KAAMuB,EAAMvB,KACZF,KAAM,mBAAqByB,EAAMP,OAEnCjB,EAAKC,KAAOuB,EAAMvB,iBAM5B6B,QAjEa,WAiEH,WACRlB,KAAKL,QAAUK,KAAKmB,QAChB,kBAAM,EAAKb,OAAOC,UAClB,SAACa,GACKA,EAAIf,OACN,EAAKF,YAAYiB,EAAIf,MACrB,EAAKgB,sBACL,EAAKpB,QAAQmB,EAAIf,SAKrB,CACEiB,WAAW,KAKnBC,cAnFa,WAoFXvB,KAAKL,Y,qBC7FT,MAAM6B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,gB,qKCNRvC,MAAM,gC,uBAEP,gCAGM,OAHDwC,MAAM,IAAIC,OAAO,KAAKC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,8B,CAC9D,gCAC+B,QADzBC,EAAE,sBAAsBC,OAAO,UAAUC,eAAa,OAAOC,iBAAe,QAC5EC,kBAAgB,Y,iHAJ5B,gCAQM,MARN,EAQM,E,2BAPJ,gCAMM,2CANkB,EAAAhD,MAAI,SAAhBiD,G,gCAAZ,gCAMM,OANyBC,IAAKD,EAAS/C,KAAMH,MAAM,Q,CACvD,EAIA,yBAAkE,GAApDoD,GAAIF,EAASjD,M,+BAAM,iBAAmB,C,0DAAhBiD,EAAS/C,MAAI,O,+BAMxC,OACbkD,MAAO,CACLpD,KAAMqD,Q,iCCRV,MAAMhB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,U","file":"js/chunk-4f0d6af6.3fbfc32f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Badge.vue?vue&type=style&index=0&id=504a8ae0&lang=scss&scoped=true\"","<template>\n  <section class=\"container my-4\">\n    <Badge :path=\"info.path\"></Badge>\n    <h4 class=\"py-2\">{{ info.name }}</h4>\n    <loader waiting=\"category_view\">\n      <router-view></router-view>\n    </loader>\n  </section>\n</template>\n<script>\nimport {mapActions, mapGetters, mapMutations} from \"vuex\";\nimport Loader from \"@/components/loading/loader\";\nimport Badge from \"@/components/shared/Badge\";\n\nexport default {\n  components: {Badge, Loader},\n  data() {\n    return {\n      unwatch: undefined,\n      info: {\n        path: [],\n        name: \"\"\n      }\n    }\n  },\n  computed: {\n    ...mapGetters({\n      drop_bar: \"drop_bar\",\n    })\n  },\n  watch: {\n    drop_bar() {\n      this.setPath();\n    }\n  },\n  methods: {\n    ...mapActions({\n      getCategory: 'categoryModule/getCategory'\n    }),\n    ...mapMutations([\n      'closeCategoryOpened',\n    ]),\n    setPath(sluggable) {\n      this.info.path = [ // set path can be called several times, so we rest every time it is called\n        {\n          name: \"Главная\",\n          path: \"/\"\n        }\n      ];\n      let slug = sluggable || this.$route.params.slug;\n      let info = this.info;\n      this.drop_bar.filter(parent => parent.slug === slug\n          || parent.children.filter(sub => sub.slug === slug // checking slug for all levels\n              || sub.children.filter(child => child.slug === slug).length !== 0).length !== 0).forEach(e => {\n        info.name = e.name; // setting name of the page from here, we can remove checking because name will be overwritten\n        // if we in the sub category page\n        info.path.push({\n          name: e.name,\n          path: '/category/parent/' + e.slug // putting first level breadcrumbs  for parent\n        });\n\n        e.children.filter(ch => ch.slug === slug || ch.children.filter(child => child.slug === slug).length !== 0).forEach(sub => { // if the slug was used for children\n          info.path.push({\n            name: sub.name,\n            path: \"/category/sub/\" + sub.slug // setting second level breadcrumbs\n          });\n          info.name = sub.name; // if the second level breadcrubms was used it implies that we are in the second page\n          // so name set properly\n          sub.children.filter(child => child.slug === slug).forEach(child => {// the same rule applies here as above\n            info.path.push({\n              name: child.name,\n              path: \"/category/child/\" + child.slug\n            });\n            info.name = child.name;\n          })\n        })\n      })\n    },\n  },\n  created() {\n    this.unwatch = this.$watch(\n        () => this.$route.params,\n        (val) => {\n          if (val.slug) {\n            this.getCategory(val.slug);\n            this.closeCategoryOpened();\n            this.setPath(val.slug)\n          }\n        },\n        // fetch the data when the view is created and the data is\n        // already being observed\n        {\n          immediate: true\n        }\n    )\n    ;\n  },\n  beforeUnmount() {\n    this.unwatch();\n  }\n}\n</script>\n","import { render } from \"./categoryMain.vue?vue&type=template&id=894bd05e\"\nimport script from \"./categoryMain.vue?vue&type=script&lang=js\"\nexport * from \"./categoryMain.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/m_axwel_l/Desktop/projects/Vue/buy-shop/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"d-flex flex-nowrap badge p-0\">\n    <div v-for=\"pathPart in path\" :key=\"pathPart.name\" class=\"link\">\n      <svg width=\"8\" height=\"12\" viewBox=\"0 0 8 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M1.5 1L6.5 6L1.5 11\" stroke=\"#9499A5\" stroke-width=\"1.25\" stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"/>\n      </svg>\n      <router-link :to=\"pathPart.path\">{{ pathPart.name }}</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    path: Array,\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.badge {\n  width: 100%;\n  overflow: hidden;\n  @media (max-width: 767px) {\n    flex-wrap: wrap !important;\n  }\n}\n\n.link {\n  display: flex;\n  align-items: center;\n}\n\n.link:first-child > svg {\n  display: none;\n}\n\na {\n  margin: 10px;\n  text-decoration: none;\n  color: black;\n  font-weight: 400;\n}\n\na:hover {\n  color: grey;\n}\n\n.link:first-child a {\n  margin-left: 0;\n}\n</style>","import { render } from \"./Badge.vue?vue&type=template&id=504a8ae0&scoped=true\"\nimport script from \"./Badge.vue?vue&type=script&lang=js\"\nexport * from \"./Badge.vue?vue&type=script&lang=js\"\n\nimport \"./Badge.vue?vue&type=style&index=0&id=504a8ae0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/m_axwel_l/Desktop/projects/Vue/buy-shop/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-504a8ae0\"]])\n\nexport default __exports__"],"sourceRoot":""}